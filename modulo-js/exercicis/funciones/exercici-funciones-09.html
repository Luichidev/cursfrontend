<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Exerceci 09 | Funciones</title>
</head>

<body>
  <script>
    // Fes un programa amb les seves funcions que determini si un password √©s segur. Per exemple, un password segur ha de complir les seg√ºents condicions:
    // ‚óè Ha de contenir almenys 8 n√∫meros.
    // ‚óè Ha de contenir almenys una maj√∫scula.
    // ‚óè Ha de contenir almenys una min√∫scula.
    // ‚óè Ha de contenir un n√∫mero.
    // ‚óè Almenys ha de contenir un car√†cter especial.
    // Pots fer servir una funci√≥ per cada comprovaci√≥.

    //Escenari 1.
    let password = 'sdes140'
    document.write('<h1>Password: ' + password + '</h1>')
    document.write('<h2>' + isSecure(password) + '</h2>')

    //Escenari 2.
    password = '!mam4Secu'
    document.write('<h1>Password: ' + password + '</h1>')
    document.write('<h2>' + isSecure(password) + '</h2>')

    //Escenari 3.
    password = 'TODOm#345'
    document.write('<h1>Password: ' + password + '</h1>')
    document.write('<h2>' + isSecure(password) + '</h2>')

    /////////FUNCIONES////////////
    /*
      Author: @Luichidev
      Web: https://luichi.dev
      Creation_Date: 01/03/2022
      Revision: 01/03/2022
    */
    // PROTOTYPE: String isSecure(String password).
    // DESCRIPTION: Devuelve un mensaje si tu password es seguro o no.

    function isSecure(password) {
      if (hasMinChar(password) && hasMajus2(password) && hasMinus2(password) && hasNumber2(password) && hasSpecialChar2(password)) {
        return 'Tu password es seguro üîê'
      }

      return 'Tu password no es seguro üõë'
    }

    // PROTOTYPE: Boolean hasMinChar(String password).
    // DESCRIPTION: Devuelve true si el string es mayor a 8 caracteres

    function hasMinChar(password) {
      return password.length > 7
    }

    // PROTOTYPE: Boolean hasMajus(String password).
    // DESCRIPTION: Devuelve true si el string contiene al menos una letra mayuscula.

    // v.1
    function hasMajus(password) {

      for (let i = 0; i < password.length; i++) {
        if (password.charCodeAt(i) >= 65 && password.charCodeAt(i) <= 90) {
          return true
        }
      }
      return false
    }
    // v.2
    function hasMajus2(password) {
      return password.match(/([A-Z])/g)
    }

    // PROTOTYPE: Boolean hasMinus(String password).
    // DESCRIPTION: Devuelve true si el string contiene al menos una letra minuscula.

    // v.1
    function hasMinus(password) {
      let res = false
      for (let i = 0; i < password.length; i++) {
        if (password.charCodeAt(i) >= 97 && password.charCodeAt(i) <= 122) {
          return true
        }
      }
      return false
    }

    // v.2
    function hasMinus2(password) {
      return password.match(/([a-z])/g)
    }

    // PROTOTYPE: Boolean hasNumber(String password).
    // DESCRIPTION: Devuelve true si el string contiene al menos un numero

    // v.1
    function hasNumber(password) {
      for (let i = 0; i < password.length; i++) {
        if (!isNaN(password.charAt(i))) {
          return true
        }
      }
      return false
    }

    // v.2
    function hasNumber2(password) {
      return password.match(/([0-9])/g)
    }

    // PROTOTYPE: Boolean hasSpecialChar(String password).
    // DESCRIPTION: Devuelve true si el string contiene al menos un caracter especial.

    // v.1
    function hasSpecialChar(password) {
      let res = false
      for (let i = 0; i < password.length; i++) {
        if (password.charCodeAt(i) >= 33 && password.charCodeAt(i) <= 39) {
          return true
        }
      }
      return false
    }

    // v.2
    function hasSpecialChar2(password) {
      return password.match(/([!-'])/g)
    }
  </script>
</body>

</html>