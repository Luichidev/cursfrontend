<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercici 03 | Arrays</title>
</head>

<body>
  <script>
    // Donat el següent array d’objectes
    const carrito = [
      { nombre: 'Monitor 20 Pulgadas', precio: 500 },
      { nombre: 'Televisión 50 Pulgadas', precio: 700 },
      { nombre: 'Tablet', precio: 300 },
      { nombre: 'Audifonos', precio: 200 },
      { nombre: 'Teclado', precio: 50 },
      { nombre: 'Celular', precio: 500 },
      { nombre: 'Bocinas', precio: 300 },
      { nombre: 'Laptop', precio: 800 },
    ]
    // a) Mostras tots els productes
    console.table(carrito)

    // b) Mostrar els productes de més de 300€.
    const mes300 = carrito.filter((el) => el.precio > 300)
    console.table(mes300)

    // c) Mostrar el total a pagar del carrito. (hem de sumar tots els preus.)
    let res = 0
    const total = sumTokeys(carrito, 'precio')
    console.log(`La suma de todos los precios es => ${total}`)

    // d) Obtenir nous carritos, tenint en compte les següents condicions:
    // 1. Carrito con Productos con precio > 400
    const carrito400 = carrito.filter((el) => el.precio > 400)
    console.table(carrito400);

    // 2. Carrito con Productos con el nombre ‘Celular'
    const carritoCelular = carrito.filter((el) => el.nombre === 'Celular')
    console.table(carritoCelular);

    // 3. Carrito con todos los excepto ‘Laptop
    const carritoNoLaptop = carrito.filter((el) => el.nombre !== 'Laptop')
    console.table(carritoNoLaptop);

    // e) Comprova que en el carrito no hi hagi algun preu = 0
    carrito.find((el) => el.precio === 0)
      ? console.log('Hay un producto con el precio = 0')
      : console.log('No hay ningun producto con el precio = 0');

    /////////FUNCIONES////////////
    /*
          Author: @Luichidev
          Web: https://luichi.dev
          Creation_Date: 04/03/2022
          Revision: 04/03/2022
        */
    // PROTOTYPE: Array sumTokeys(Array array, String key).
    // DESCRIPTION: Devuelve la suma del contenido de la key de un array 

    function sumTokeys(array, key) {
      let total = 0
      for (let i = 0; i < array.length; i++) {
        total += array[i][key];
      }
      return total
    }
  </script>
</body>

</html>