<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercici 03 | Arrays</title>
</head>

<body>
  <script>
    // Donat el següent array d’objectes
    const carrito = [
      { nombre: 'Monitor 20 Pulgadas', precio: 500 },
      { nombre: 'Televisión 50 Pulgadas', precio: 700 },
      { nombre: 'Tablet', precio: 300 },
      { nombre: 'Audifonos', precio: 200 },
      { nombre: 'Teclado', precio: 50 },
      { nombre: 'Celular', precio: 500 },
      { nombre: 'Bocinas', precio: 300 },
      { nombre: 'Laptop', precio: 800 },
    ]
    console.log('a) Mostras tots els productes');
    console.table(carrito)

    console.log('b) Mostrar els productes de més de 300€.');
    const mes300 = carrito.filter((el) => el.precio > 300)
    console.table(mes300)

    console.log('c) Mostrar el total a pagar del carrito. (hem de sumar tots els preus.)');
    let res = 0
    const total = sumTokeys(carrito, 'precio')
    console.log(`La suma de todos los precios es => ${total}`)

    console.log('d) Obtenir nous carritos, tenint en compte les següents condicions:');
    console.log('a. Carrito con Productos con precio > 400');
    const carrito400 = carrito.filter((el) => el.precio > 400)
    console.table(carrito400);
    console.table(customFilterPriceMayor(carrito, 400));

    console.log('b. Carrito con Productos con el nombre ‘Celular');
    const carritoCelular = carrito.filter((el) => el.nombre === 'Celular')
    console.table(carritoCelular);

    console.log('c. Carrito con todos los excepto ‘Laptop');
    const carritoNoLaptop = carrito.filter((el) => el.nombre !== 'Laptop')
    console.table(carritoNoLaptop);

    console.log('e) Comprova que en el carrito no hi hagi algun preu = 0');
    carrito.find((el) => el.precio === 0)
      ? console.log('Hi ha un producte amb el preu = 0')
      : console.log('No hi ha cap producte amb el preu = 0');

    /////////FUNCIONES////////////
    /*
          Author: @Luichidev
          Web: https://luichi.dev
          Creation_Date: 04/03/2022
          Revision: 04/03/2022
        */
    // PROTOTYPE: Array sumTokeys(Array array, String key).
    // DESCRIPTION: Devuelve la suma del contenido de la key de un array 

    function sumTokeys(array, key) {
      let total = 0
      for (let i = 0; i < array.length; i++) {
        total += array[i][key];
      }
      return total
    }

    // PROTOTYPE: Array customFilterPriceMayor(Array array, String condicion).
    // DESCRIPTION: Devuelve un array con los elementos filtrados por la condicion pasada por parametro

    function customFilterPriceMayor(array, condicion) {
      let res = []
      for (let i = 0; i < array.length; i++) {
        const element = array[i];
        if (element.precio > condicion) {
          res.push(element)
        }
      }
      return res
    }
  </script>
</body>

</html>